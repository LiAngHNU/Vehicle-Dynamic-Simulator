PARSFILE
#FullDataName Procedures`Slowly Increasing Steer`Validation Conditions
#CheckBox3 0    
#CheckBox4 0    

#RingCtrl0 1
#RingCtrl1 -1
#RingCtrl2 0
OPT_STOP -1
TSTART 0
SSTART -50
TSTART_WRITE = 0;
SSTOP =  SSTART + 1 ;
OPT_DIRECTION 1
TSTOP -1
*SPEED 80
*TSTOP 10
*TSTART 0
*SSTART -50

INSTALL_SPEED_CONTROLLER
OPT_SC 3
N_SPEED_TARGET = N_SPEED_TARGET + 1
ISPEED = N_SPEED_TARGET
SPEED_TARGET_ID = ISPEED
SPEED_ID_SC = ISPEED
SPEED_TARGET_COMBINE ADD
SPEED_TARGET_S_CONSTANT 0
set_description SPEED_TARGET_ID Procedure: Slowly Increasing Steer
SPEED_TARGET_CONSTANT 80
OPT_SC_ENGINE_BRAKING 0
PARSFILE Control\Steer\StrSW_16275b51-4ef0-46b9-93a4-31e96a6138eb.par
#BlueLink27 Control: Steering (Open Loop)`Ramp: 1 deg/s, Start at T = 2s` Ramp` , Steering`StrSW_16275b51-4ef0-46b9-93a4-31e96a6138eb

PARSFILE Control\Braking\PbkCon_8621b5c9-f12a-4359-b6c7-9702b0bb4047.par
#BlueLink28 Control: Braking MC Pressure (Open Loop)`Constant: 0 MPa` Constant` , Braking`PbkCon_8621b5c9-f12a-4359-b6c7-9702b0bb4047

PARSFILE Control\Gear_at\GearCL_1765c7ef-4e1a-4ad7-b281-6ce3dd2f4d2f.par
#BlueLink30 Control: Shifting (Closed Loop)`NGEARS, Clutch Act 0.5s, Gear 0.1s` Closed-Loop Shifting` , Shifting Control`GearCL_1765c7ef-4e1a-4ad7-b281-6ce3dd2f4d2f

#MiscYellow0
steer_sw_gain = 2
#ENDMYellow

PARSFILE Roads\3D_Road\Road_1d628bf6-d343-4b53-aab3-6c447711f700.par
#BlueLink0 Road: 3D Surface (All Properties)`1 km Square, Mu = 0.85` Flat Test Pads` , Miscellaneous`Road_1d628bf6-d343-4b53-aab3-6c447711f700

#MiscYellow1
define_parameter ay_stop = 0.3; g ; Stop when this acceleration is reached
#ENDMYellow

PARSFILE Events\Events_54498ca2-0066-406f-a9f4-631eeb876db0.par
#BlueLink7 Events`Stop at Ay = AY_STOP` Validation Tests` , Miscellaneous`Events_54498ca2-0066-406f-a9f4-631eeb876db0

PARSFILE Plot\Setup\Plot_c57af236-73b8-4f4d-aa46-3d4f4c85076b.par
#BlueLink8 Plot: Setup`Longitudinal Speed (Vxz_Fwd) vs. Time` Vehicle Motion` , Plot`Plot_c57af236-73b8-4f4d-aa46-3d4f4c85076b

PARSFILE Plot\Setup\Plot_b84ef2b2-7fc4-41f2-a3f5-1419f3625a41.par
#BlueLink9 Plot: Setup`Spring: Force vs. Time` Suspension Forces and Moments` , Plot`Plot_b84ef2b2-7fc4-41f2-a3f5-1419f3625a41

PARSFILE Plot\Setup\Plot_04ef7d47-6fad-4303-ae64-135680b8dead.par
#BlueLink10 Plot: Setup`Jounce (Axle 1)` Suspension Motion` , Plot`Plot_04ef7d47-6fad-4303-ae64-135680b8dead

PARSFILE Plot\Setup\Plot_d63305ed-cfb1-4cc6-8515-175ed1eef890.par
#BlueLink11 Plot: Setup`Jounce (Axle 2)` Suspension Motion` , Plot`Plot_d63305ed-cfb1-4cc6-8515-175ed1eef890

PARSFILE Plot\Setup\Plot_4794326c-b040-4eaa-b40d-65b5e576ed7e.par
#BlueLink13 Plot: Setup`Road Wheel Steer Angles` Steering` , Plot`Plot_4794326c-b040-4eaa-b40d-65b5e576ed7e

PARSFILE Plot\Setup\Plot_d92f6bac-ee36-4e13-9561-26fa310f1e59.par
#BlueLink14 Plot: Setup`Road Wheel Steer (Kinematics Only)` Steering` , Plot`Plot_d92f6bac-ee36-4e13-9561-26fa310f1e59

PARSFILE Plot\Setup\Plot_d179f1c0-f76a-4aca-b2d3-4e92b2d71c0a.par
#BlueLink15 Plot: Setup`Road Wheel Steer (Compliance Only)` Steering` , Plot`Plot_d179f1c0-f76a-4aca-b2d3-4e92b2d71c0a

PARSFILE Plot\Setup\Plot_e6e86472-449d-4578-95bb-8b13f78312b1.par
#BlueLink16 Plot: Setup`Kingpin Torque` Steering` , Plot`Plot_e6e86472-449d-4578-95bb-8b13f78312b1

PARSFILE Plot\Setup\Plot_6c56dc2f-7305-48e8-96d3-4081fbab1e39.par
#BlueLink18 Plot: Setup`Roll vs. Lateral Accel.` Vehicle Motion` , Plot`Plot_6c56dc2f-7305-48e8-96d3-4081fbab1e39

PARSFILE Plot\Setup\Plot_8ad048f3-25bb-4267-8c8b-cc2bea080444.par
#BlueLink19 Plot: Setup`Steering Wheel Angle vs. Lateral Accel.` Vehicle Motion` , Plot`Plot_8ad048f3-25bb-4267-8c8b-cc2bea080444


#EMBEDDED_NOTES
#This simulation shows the vehicle running at a consant speed with a slowly increasing steering wheel angle, as is applied by robot in stability testing.
#
#The run will stop when the lateral acceleration reaches a specified limit ay_stop, set here at 0.3 g
#END_EMBEDDED_NOTES

LOG_ENTRY Used Dataset: Procedures; { Validation Conditions } Slowly Increasing Steer
#Library : Procedures
#DataSet : Slowly Increasing Steer
#Category: Validation Conditions
#FileID  : Proc_80e1238f-2fdd-4d9c-9f9d-5765e6cb70d4
#Product : TruckSim 2020.1
#VehCode Procedure

END
