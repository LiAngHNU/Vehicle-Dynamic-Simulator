PARSFILE
#FullDataName Procedures`Two Target Vehicles`Sensors and Traffic
#CheckBox3 0    
#CheckBox4 0    

#RingCtrl0 1
#RingCtrl1 0
#RingCtrl2 0
OPT_STOP 0
TSTART 0
SSTART 0
TSTART_WRITE = 0;
TSTOP 8
SSTOP =  SSTART + 1 ;
OPT_DIRECTION 1
*SPEED 120
*TSTOP 8
*TSTART 0
*SSTART 0

INSTALL_SPEED_CONTROLLER
OPT_SC 3
N_SPEED_TARGET = N_SPEED_TARGET + 1
ISPEED = N_SPEED_TARGET
SPEED_TARGET_ID = ISPEED
SPEED_ID_SC = ISPEED
SPEED_TARGET_COMBINE ADD
SPEED_TARGET_S_CONSTANT 0
set_description SPEED_TARGET_ID Procedure: Two Target Vehicles
SPEED_TARGET_CONSTANT 120
OPT_SC_ENGINE_BRAKING 0
PARSFILE Control\Driver\StrDM_c743fbf4-cb73-4307-9b47-cccb3119e227.par
#BlueLink27 Control: Steering by the Closed-loop Driver Model`1.65m Right, 0.75s Single Preview` Constant Position: Non-Zero Offset` , Steering`StrDM_c743fbf4-cb73-4307-9b47-cccb3119e227

PARSFILE Control\Braking\PbkCon_8621b5c9-f12a-4359-b6c7-9702b0bb4047.par
#BlueLink28 Control: Braking MC Pressure (Open Loop)`Constant: 0 MPa` Constant` , Braking`PbkCon_8621b5c9-f12a-4359-b6c7-9702b0bb4047

PARSFILE Control\Gear_at\GearCL_1765c7ef-4e1a-4ad7-b281-6ce3dd2f4d2f.par
#BlueLink30 Control: Shifting (Closed Loop)`NGEARS, Clutch Act 0.5s, Gear 0.1s` Closed-Loop Shifting` , Shifting Control`GearCL_1765c7ef-4e1a-4ad7-b281-6ce3dd2f4d2f

PARSFILE Roads\3D_Road\Road_1d628bf6-d343-4b53-aab3-6c447711f700.par
#BlueLink0 Road: 3D Surface (All Properties)`1 km Square, Mu = 0.85` Flat Test Pads` , Miscellaneous`Road_1d628bf6-d343-4b53-aab3-6c447711f700

PARSFILE Sensors_Traffic\Targets\Target_512dd38b-1057-45cd-9d7e-d5fae0953e5f.par
#BlueLink1 Single Moving Object (Custom)`2A Day Cab - S: 145 m, Head: 70 deg` Sensor Targets` , Miscellaneous`Target_512dd38b-1057-45cd-9d7e-d5fae0953e5f

PARSFILE Sensors_Traffic\Targets\Target_4e6a3f51-a772-4fd5-a062-d5c66783fb2b.par
#BlueLink2 Single Moving Object (Custom)`Dump Truck` Sensor Targets` , Miscellaneous`Target_4e6a3f51-a772-4fd5-a062-d5c66783fb2b

PARSFILE Plot\Setup\Plot_a66cdb2e-c297-4320-ad62-02bbc4cdf744.par
#BlueLink8 Plot: Setup`Distance: S1, S2 (2 Objects)` ADAS Sensor Detections` , Plot`Plot_a66cdb2e-c297-4320-ad62-02bbc4cdf744

PARSFILE Plot\Setup\Plot_7b49ca83-cd31-4507-9e17-339eaf1c179e.par
#BlueLink9 Plot: Setup`Bearing Angle: S1, S2 (2 Objects)` ADAS Sensor Detections` , Plot`Plot_7b49ca83-cd31-4507-9e17-339eaf1c179e

PARSFILE Plot\Setup\Plot_e953eac4-06aa-417a-a2af-73292e5bf774.par
#BlueLink10 Plot: Setup`Magnitude: S1, S2 (2 Objects)` ADAS Sensor Detections` , Plot`Plot_e953eac4-06aa-417a-a2af-73292e5bf774

PARSFILE Plot\Setup\Plot_10d1dd8e-3227-414e-8509-2f3e6e8370a8.par
#BlueLink11 Plot: Setup`Pitch Angle: S1, S2 (2 Objects)` ADAS Sensor Detections` , Plot`Plot_10d1dd8e-3227-414e-8509-2f3e6e8370a8

PARSFILE Plot\Setup\Plot_7172a8b6-6e45-4377-ada3-dfbab87effcc.par
#BlueLink12 Plot: Setup`Speed: S1, S2 (2 Objects)` ADAS Sensor Detections` , Plot`Plot_7172a8b6-6e45-4377-ada3-dfbab87effcc

PARSFILE Plot\Setup\Plot_b26abe41-b488-493d-93ff-b8d299788bb4.par
#BlueLink13 Plot: Setup`Visibility (2 Objects)` ADAS Sensor Target Properties` , Plot`Plot_b26abe41-b488-493d-93ff-b8d299788bb4

PARSFILE Plot\Setup\Plot_e2b3f260-1ccd-4d06-80c8-d67c5884165e.par
#BlueLink14 Plot: Setup`Heights (Z)` ADAS Sensor Detections` , Plot`Plot_e2b3f260-1ccd-4d06-80c8-d67c5884165e


#EMBEDDED_NOTES
#This example was modified in version 2018.  The vehicle model and the sensors were moved to a Vehicle: Loaded Combination screen.
#
#This Procedure demonstrates the use of two forward facing sensors to detect two different traffic vehicles crossing the primary vehicle's path.
#
#The two traffic vehicles start to cross the primary vehicle's path, and once the target vehicles come into sensor range the Simulink model, receiving data from the vehicle's sensors, controls the braking of the primary vehicle. The vehicle is slowed down enough such that it is allowed to safely pass the two traffic vehicles.
#
#Click on the various blue links for the sensors and traffic vehicles to see how this example was set up.
#END_EMBEDDED_NOTES

LOG_ENTRY Used Dataset: Procedures; { Sensors and Traffic } Two Target Vehicles
#Library : Procedures
#DataSet : Two Target Vehicles
#Category: Sensors and Traffic
#FileID  : Proc_b5c7bb12-3d01-4835-9470-9a9606a19a94
#Product : TruckSim 2020.1
#VehCode Procedure

END
