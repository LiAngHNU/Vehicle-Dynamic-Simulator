PARSFILE
#FullDataName Events`Stop Sign v2`ADAS Detection
#CheckBox1 1    
*CLEAR
#CheckBox6 0    
#CheckBox7 0    
#CheckBox9 1    
#CheckBox10 1    

#RingCtrl0 <
#RingCtrl10 1
#RingCtrl11 4
IVEHICLE 2
DELETE_EVENTS_ID IVEHICLE
*NAME1 Vxz_Fwd2
*VALUE1 .1
*SET_EVENT_ID IVEHICLE
SET_EVENT_ID IVEHICLE
#MiscYellow0
set_ispeed_for_id STOP_ID_2 ! set scope for next 2 lines
speed_target_gain = Vxz_Fwd2
sstart_speed_target =  Station_2 + detect_dist(s2,1) - detect_msg(s2,1)
speed_id_sc = STOP_ID_2 ! have speed controller use this dataset
#ENDMYellow

MAKE_EVENT Vxz_Fwd2 < .1 ; Events\Events_c57e98d0-149b-4619-bd8e-41ec14c9be7b.par
#BlueLink0 Events`Check for Clear Path v2` ADAS Detection` , Events`Events_c57e98d0-149b-4619-bd8e-41ec14c9be7b

SET_EVENT_ID 0 ! reset to default

#EMBEDDED_NOTES
#Use the speed controller for vehicle #2 to stop at a stop sign.
#
#To do this, set the current target speed to the dataset STOP_ID_2, which goes to zero speed. Change the  gain of the table to the current speed. Offset the station in the table by taking into account the vehicle position (Station_2), the distance to the stop sign (detect_dist(s2,1)), and the distance from the sign to where the vehicle should stop (detect_msg(s2,1)).
#
#Define a pending event to be triggered when the vehicle speed is near zero.
#END_EMBEDDED_NOTES

LOG_ENTRY Used Dataset: Events; { ADAS Detection } Stop Sign v2
#Library : Events
#DataSet : Stop Sign v2
#Category: ADAS Detection
#FileID  : Events_176a7475-7c4c-4f88-9cff-979a0066afdf
#Product : TruckSim 2020.1
#VehCode Events

END
